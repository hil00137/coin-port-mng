<!DOCTYPE html>
<html lang="kr">
<head>
    {{> layout/header }}
    <style>
        .jumbotron {
            background-image: url('https://images.unsplash.com/photo-1543699539-33a389c5dcfe?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            height: 500px;
            text-align: center;
            color: white;
            font-family: 'Open Sans', sans-serif;
        }
        h1 {
            font-size: 40px;
            font-weight: bold;
            margin-top: 50px;
            margin-bottom: 50px;
        }
        .list-group {
            margin-bottom: 50px;
        }
        .list-group-item {
            font-size: 24px;
            font-weight: bold;
            background-color: #E6E6E6;
            border-color: #CCCCCC;
        }
        .list-group-item:hover {
            background-color: #CCCCCC;
            border-color: #CCCCCC;
        }
        .btn-primary {
            background-color: #0066CC;
            border-color: #0066CC;
            font-weight: bold;
        }
        .btn-primary:hover {
            background-color: #0052a3;
            border-color: #0052a3;
        }
    </style>
</head>
<body>

<div class="jumbotron">
    <h1>로그인<br><small>아래 목록에서 선택하세요.</small></h1>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div id="account-list" class="list-group">
                </div>
                <a href="#" class="btn btn-primary btn-lg btn-block">새로운 대상 등록하기</a>
            </div>
        </div>
    </div>

</div>

</body>
<script>
    function goLogin(seq) {
        console.log(seq)
        //TODO: 로그인 후 메인페이지로 이동
    }

    const accountList = {
        init: function () {
            this.callList()
        },
        callList: async function () {
            let response = await GET('/api/v1/upbit/access-info');
            let targetList = document.getElementById('account-list');
            if (response.data.length === 0) {
                targetList.append('신규 대상을 등록해주세요!')
                return
            }
            response.data.forEach((value, index) => {
                value.name
                value.seq

                targetList.insertAdjacentHTML('beforeend', `<a href="javascript:goLogin(${value.seq})" class="list-group-item active">${value.name}</a>`)
            })
        }
    }

    accountList.init();
</script>
</html>
